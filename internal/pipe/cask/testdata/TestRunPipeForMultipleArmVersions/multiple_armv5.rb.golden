# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
cask "multiple_armv5" do
  desc "Run pipe test cask and FOO=foo_is_bar"
  homepage "https://github.com/goreleaser"
  version "1.0.1"

  livecheck do
    skip "Auto-generated on release."
  end
  binary "foo"

  depends_on cask: "bash"
  depends_on formula: "zsh"

  on_macos do
    if Hardware::CPU.intel?
      url "https://dummyhost/download/v1.0.1/bin.tar.gz"
      sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
    end
    if Hardware::CPU.arm?
      def caveats
        <<~EOS
          The darwin_arm64 architecture is not supported for the multiple_armv5
          formula at this time. The darwin_amd64 binary may work in compatibility
          mode, but it might not be fully supported.
        EOS
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://dummyhost/download/v1.0.1/armv5.tar.gz"
      sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://dummyhost/download/v1.0.1/arm64.tar.gz"
      sha256 "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"
    end
  end

  conflicts_with formula: "zsh"
  conflicts_with cask: "bash"

  caveats do
    "don't do this multiple_armv5"
  end

  # No zap stanza required
end
