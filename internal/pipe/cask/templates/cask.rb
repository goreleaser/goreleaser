# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
{{ if .CustomRequire -}}
require_relative "{{ .CustomRequire }}"
{{ end -}}
cask "{{ .Name }}" do
  desc "{{ .Description }}"
  homepage "{{ .Homepage }}"
  version "{{ .Version }}"
  {{- with .License }}
  license "{{ .}}"
  {{- end }}

  {{- with .Binary }}
  binary "{{ .}}"
  {{- end }}
  {{- with .Manpage }}
  manpage "{{ .}}"
  {{- end }}
  {{- with .Completions.Bash }}
  bash_completions "{{ . }}"
  {{- end }}
  {{- with .Completions.Zsh }}
  zsh_completions "{{ . }}"
  {{- end }}
  {{- with .Completions.Fish }}
  fish_completions "{{ . }}"
  {{- end }}

  {{- with .Dependencies }}
  {{ range  . }}
  {{- with .Cask }}
  depends_on cask: "{{ . }}"
  {{- end }}
  {{- with .Formula }}
  depends_on formula: "{{ . }}"
  {{- end }}
  {{- end -}}
  {{- end -}}

  {{- if and .MacOSPackages .LinuxPackages }}
  on_macos do
  {{- include "macos_packages" . | indent 2 }}
  end

  on_linux do
  {{- include "linux_packages" . | indent 2 }}
  end
  {{- end }}

  {{- if and (.MacOSPackages) (not .LinuxPackages) }}
  {{- template "macos_packages" . }}
  {{- end }}

  {{- if and (not .MacOSPackages) (.LinuxPackages) }}
  {{- template "linux_packages" . }}
  {{- end }}

  {{- with .Conflicts }}

  {{ range . }}
  {{- with .Cask }}
  conflicts_with cask: "{{ . }}"
  {{- end }}
  {{- with .Formula }}
  conflicts_with formula: "{{ . }}"
  {{- end }}
  {{- end }}
  {{- end }}

  {{ with .CustomBlock -}}
  {{ range (split .) }}
  {{ . }}
  {{- end }}
  {{- end }}

  {{ with .Hooks.Pre.Install -}}
  preflight do
    {{- range (split .) }}
    {{ . }}
    {{- end }}
  end
  {{- end -}}

  {{ with .Hooks.Post.Install -}}
  postflight do
    {{- range (split .) }}
    {{ . }}
    {{- end }}
  end
  {{- end -}}

  {{ with .Hooks.Pre.Uninstall -}}
  uninstall_preflight do
    {{- range (split .) }}
    {{ . }}
    {{- end }}
  end
  {{- end -}}

  {{ with .Hooks.Post.Uninstall -}}
  uninstall_postflight do
    {{- range (split .) }}
    {{ . }}
    {{- end }}
  end
  {{- end -}}

  {{ with .Caveats -}}
  caveats do
  {{- range (split .) }}
    {{ . -}}
    {{- end }}
  end
  {{- end -}}

  {{ with .Service -}}
  service "{{ . }}"
  {{- end }}
end
